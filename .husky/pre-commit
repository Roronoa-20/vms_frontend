#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Prevent commit if formatting fails
echo "🔍 Running code formatter..."
npm run format

# Check if formatting changed any files
if ! git diff --quiet; then
  echo "❌ Code format issues found. Please commit formatted code."
  exit 1
fi

echo "✅ Format check passed. Proceeding with commit."